#!/usr/bin/env bash
### manages file 'manage_my_process'

start_process()
{
	./manage_my_process &
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
	echo "$!" > "/var/run/my_process.pid"
<<<<<<< HEAD
<<<<<<< HEAD
=======
	echo "$!" > "my_process.pid"
=======
	echo "$!" > "/var/run/my_process.pid"
>>>>>>> 0e732fc... fix(101-manage..): change to correct filename
=======
	echo "$!" > "/var/run/my_process.pid"
>>>>>>> 0e732fc... fix(101-manage..): change to correct filename
	echo "manage_my_process started"
>>>>>>> 526e199... build(devops-0x05): add script 101
=======
>>>>>>> 4a206b6... fix(101): add msg for "restart" option
=======
	echo "$!" > "/var/run/my_process.pid"
>>>>>>> d1f75cf... fs(ased:root): restore deleted repos
=======
	echo "$!" > "my_process.pid"
	echo "manage_my_process started"
>>>>>>> 526e199... build(devops-0x05): add script 101
=======
>>>>>>> 4a206b6... fix(101): add msg for "restart" option
}


stop_process()
{
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
	pid=$(head -1 < /var/run/my_process.pid)
	kill -KILL "$pid" 2>/dev/null
	rm -f /var/run/my_process.pid
<<<<<<< HEAD
}

=======
	pid=$(head -1 < my_process.pid)
=======
	pid=$(head -1 < /var/run/my_process.pid)
>>>>>>> 0e732fc... fix(101-manage..): change to correct filename
=======
	pid=$(head -1 < /var/run/my_process.pid)
>>>>>>> d1f75cf... fs(ased:root): restore deleted repos
	kill -KILL "$pid" 2>/dev/null
	rm -f /var/run/my_process.pid
}

<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD

>>>>>>> 526e199... build(devops-0x05): add script 101
=======
>>>>>>> 991a5b7... fix(101): remove restart func message
=======
>>>>>>> d1f75cf... fs(ased:root): restore deleted repos
=======
	pid=$(head -1 < my_process.pid)
=======
	pid=$(head -1 < /var/run/my_process.pid)
>>>>>>> 0e732fc... fix(101-manage..): change to correct filename
	kill -KILL "$pid" 2>/dev/null
	rm -f /var/run/my_process.pid
	echo "manage_my_process stopped"
=======
>>>>>>> 4a206b6... fix(101): add msg for "restart" option
}


>>>>>>> 526e199... build(devops-0x05): add script 101
=======
>>>>>>> 991a5b7... fix(101): remove restart func message
restart_process()
{
	stop_process
	start_process
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
=======
	echo "manage_my_process restarted"
>>>>>>> 526e199... build(devops-0x05): add script 101
=======
>>>>>>> 991a5b7... fix(101): remove restart func message
=======
>>>>>>> d1f75cf... fs(ased:root): restore deleted repos
=======
	echo "manage_my_process restarted"
>>>>>>> 526e199... build(devops-0x05): add script 101
=======
>>>>>>> 991a5b7... fix(101): remove restart func message
}

case $1 in
	"start")
		start_process
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
		echo "manage_my_process started"
		;;
	"stop")
		stop_process
		echo "manage_my_process stopped"
		;;
	"restart")
		restart_process
		echo "manage_my_process restarted"
=======
=======
		echo "manage_my_process started"
>>>>>>> 4a206b6... fix(101): add msg for "restart" option
=======
		echo "manage_my_process started"
>>>>>>> d1f75cf... fs(ased:root): restore deleted repos
		;;
	"stop")
		stop_process
		echo "manage_my_process stopped"
		;;
	"restart")
		restart_process
<<<<<<< HEAD
<<<<<<< HEAD
>>>>>>> 526e199... build(devops-0x05): add script 101
=======
		echo "manage_my_process restarted"
>>>>>>> 991a5b7... fix(101): remove restart func message
=======
		echo "manage_my_process restarted"
>>>>>>> d1f75cf... fs(ased:root): restore deleted repos
=======
=======
		echo "manage_my_process started"
>>>>>>> 4a206b6... fix(101): add msg for "restart" option
		;;
	"stop")
		stop_process
		echo "manage_my_process stopped"
		;;
	"restart")
		restart_process
<<<<<<< HEAD
>>>>>>> 526e199... build(devops-0x05): add script 101
=======
		echo "manage_my_process restarted"
>>>>>>> 991a5b7... fix(101): remove restart func message
		;;
	*)
		echo "Usage: manage_my_process {start|stop|restart}"
		;;
esac
